<?xml version="1.0"?>
<openerp>
    <data>
        <!--log.category-->
        <record model="ir.ui.view" id="view_log_category_form">
            <field name="name">log.category.form</field>
            <field name="model">log.category</field>
            <field name="arch" type="xml">
                <form string="Category" version="7.0">        
                    <sheet>
                        <group col="4" colspan="4">
                            <field name="active" />
                            <field name="code" />
                            <field name="name" />
                            <separator string="Note" colspan="4"/>
                            <field name="note" nolabel="1" colspan="4" />
                        </group>
                    </sheet>        
                </form>
            </field>
        </record>
        <record model="ir.ui.view" id="view_log_category_tree">
            <field name="name">log.category.tree</field>
            <field name="model">log.category</field>
            <field name="arch" type="xml">
                <tree string="Category" version="7.0" colors="grey:active==False">        
                    <field name="active" />
                    <field name="code" />
                    <field name="name" />
                </tree>
            </field>
        </record>
        <record model="ir.actions.act_window" id="action_log_category">
            <field name="name">Log category</field>
            <field name="res_model">log.category</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_log_category_tree"/>
            <field name="context">{}</field>
            <field name="domain">[]</field>
        </record>

        <!--log.activity.event-->
        <record model="ir.ui.view" id="view_log_activity_tree">
            <field name="name">log.activity.tree</field>
            <field name="model">log.activity</field>
            <field name="arch" type="xml">
                <tree string="Activity" version="7.0">  
                    <field name="active" />      
                    <field name="monitor" />
                    <field name="email_alert" />
                    <field name="code" />
                    <field name="name" />
                    <field name="partner_id" />
                    <field name="category_id" />
                    <field name="from_date" />
                    <field name="to_date" />
                    <field name="state" />
                </tree>
            </field>
        </record>        
        <record model="ir.ui.view" id="view_log_activity_form">
            <field name="name">log.activity.form</field>
            <field name="model">log.activity</field>
            <field name="arch" type="xml">
                <form string="Activity" version="7.0">        
                    <header>
                        <field name="active" /><!--button-->
                        <field name="monitor" /><!--button-->
                        <field name="state" widget="statusbar" />
                    </header>
                    <sheet>
                        <group col="4" colspan="4">
                            <field name="code" />
                            <field name="name" />
                            <field name="category_id" />
                            <field name="partner_id" domain="[('is_company', '=', True)]" context="{'default_is_company': True}"/>
                            <notebook colspan="4">
                                <page string="Period">
                                    <group col="4" colspan="4">
                                        <field name="from_date" />
                                        <field name="to_date" />

                                        <field name="duration" />
                                        <field name="auto_duration" />

                                        <field name="check_duration" />
                                        <newline/>

                                        <field name="duration_warning_range" />
                                        <field name="duration_error_range" />
                                    </group>                    
                                </page>
                                <page string="Notification">
                                    <group col="4" colspan="4">
                                        <field name="email_alert" />
                                        <field name="email_error" attrs="{'invisible': [('email_alert','=',False)]}"/>
                                        <field name="email_warning" attrs="{'invisible': [('email_alert','=',False)]}" />
                                    </group>                    
                                </page>
                                <page string="Detail">
                                    <group col="4" colspan="4">
                                        <separator string="Script" colspan="4"/>
                                        <field name="script" nolabel="1" colspan="4"/>
                                        <separator string="Origin" colspan="4"/>
                                        <field name="origin" nolabel="1" colspan="4" />
                                    </group>                    
                                </page>
                                <page string="Note">
                                    <group col="4" colspan="4">
                                        <separator string="Note" colspan="4"/>
                                        <field name="note" nolabel="1" colspan="4" />
                                    </group>                    
                                </page>
                            </notebook>
                        </group>
                    </sheet>        
                </form>
            </field>
        </record>        
        <record model="ir.actions.act_window" id="action_log_activity">
            <field name="name">Activity</field>
            <field name="res_model">log.activity</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_log_activity_tree"/>
            <field name="context">{}</field>
            <field name="domain">[]</field>
        </record>
        
        <!--log.activity.event-->
        <record model="ir.ui.view" id="view_log_activity_event_form">
            <field name="name">log.activity.event.form</field>
            <field name="model">log.activity.event</field>
            <field name="arch" type="xml">
                <form string="Event" version="7.0">        
                    <header>
                        <field name="state" widget="statusbar" />
                    </header>
                    <sheet>
                        <group col="4" colspan="4">
                            <field name="datetime" />
                            <field name="activity_id" />
                            <field name="start" />
                            <field name="end" />
                            <field name="duration" />
                            <field name="mark_ok" />
                            
                            <notebook colspan="4">
                                <page string="Log">
                                    <group col="6" colspan="4">
                                        <separator string="Log" colspan="2"/>
                                        <separator string="Log warning" colspan="2"/>
                                        <separator string="Log error" colspan="2"/>
                                        
                                        <field name="log" nolabel="1" colspan="2" />
                                        <field name="log_warning" nolabel="1" colspan="2" />
                                        <field name="log_error" nolabel="1" colspan="2" />
                                    </group>
                                </page>
                                <page string="Origin">
                                    <group col="4" colspan="4">
                                        <separator string="Origin" colspan="4"/>
                                        <field name="origin" nolabel="1" colspan="4" />
                                    </group>
                                </page>
                            </notebook>
                        </group>
                    </sheet>        
                </form>
            </field>
        </record>        
        <record model="ir.ui.view" id="view_log_activity_event_tree">
            <field name="name">log.activity.event.form</field>
            <field name="model">log.activity.event</field>
            <field name="arch" type="xml">
                <tree string="Event" version="7.0" colors="grey:active==False">
                    <field name="datetime" />
                    <field name="activity_id" />
                    <field name="start" />
                    <field name="end" />
                    <field name="duration" />
                    <field name="mark_ok" />
                    <field name="state" />
                </tree>
            </field>
        </record>
        <record model="ir.actions.act_window" id="action_log_activity_event">
            <field name="name">Event log</field>
            <field name="res_model">log.activity.event</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_log_activity_event_tree"/>
            <field name="context">{}</field>
            <field name="domain">[]</field>
        </record>
        
        <menuitem 
            id="menu_log_root" 
            name="Log" 
            sequence="10" 
            />
            <menuitem 
                parent="menu_log_root" 
                id="menu_log_activity" 
                sequence="10" 
                name="Logs"
                />                
                <menuitem 
                    parent="menu_log_activity" 
                    id="menu_activity_log" 
                    action="action_log_activity"
                    sequence="10"
                    />
                <menuitem 
                    parent="menu_log_activity" 
                    id="menu_activity_event_log" 
                    action="action_log_activity_event"
                    sequence="20"
                    />
                        
            <menuitem 
                parent="menu_log_root" 
                id="menu_log_configuration_root"  
                name="Configuration"
                sequence="90" 
                />
                <menuitem 
                    parent="menu_log_configuration_root" 
                    id="menu_log_category" 
                    action="action_log_category"
                    sequence="10"
                    />
                
            
        
        
    </data>
</openerp>

